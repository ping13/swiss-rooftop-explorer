<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building Roof Viewer</title>
    <link rel="icon" href="data:,">
    <style>
      body { margin: 0; padding: 0; }
      h3 { margin-top: 0em; margin-bottom: 0.5em; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; }
        .description { margin-bottom: 5px; font-size: smaller; }
        .map-overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px;
            border-radius: 4px;
            font-family: Arial, sans-serif;
            max-width: 300px;
        }g
    </style>
</head>
<body>
    <div class="search-container">
        <div class="input-wrapper">
            <input type="text" id="zip-search" class="search-input"
      placeholder="Enter Swiss ZIP code">
            <button type="button" class="clear-input" aria-label="Clear ZIP code">&times;</button>
        </div>
        <div class="buttons-container" id="search-buttons">
            <button id="search-btn" class="search-button primary">
                <span id="search-text">Search</span>
                <span id="search-spinner" style="display: none;">⌛</span>
            </button>
            <button id="random-btn" class="search-button success">
                <span id="random-text">Random</span>
                <span id="random-spinner" style="display: none;">⌛</span>
            </button>
        </div>
        <div class="input-wrapper" id="street-search-wrapper" style="display: none;">
            <input type="text" id="street-search" class="search-input" placeholder="Street name + number">
            <button type="button" class="clear-input" aria-label="Clear street name">&times;</button>
        </div>
        <div id="street-search-message" class="search-message"></div>
        <div id="search-message" class="search-message"></div>
    </div>
  <div id="map"></div>
  <div class="map-overlay" id="features">
    <h3>Swiss Rooftop Explorer</h3>
    <div id="feature-properties">
    </div>
    <div class="description">
      <button id="toggle-info"
      style="background:none;border:none;cursor:pointer;padding:4px 8px;font-size:1.1em;">▼
      CLICK TO HIDE INFO TEXT</button>
      <div id="info-content" style="display: inline;">
        <p>This webpage shows <b>Swiss roof buildings</b> with eave and ridge
        height. The polygons are based on
        the <a href="https://www.swisstopo.admin.ch/de/landschaftmodell-swissbuildings3d-3-0-beta">swissBUILDINGS3D</a>
        dataset. Zoom in far enough to click on a polygon to see the eave and
        ridge height. Zoom closer and you see labels.
        </p>
        <p>On the bottom, you can enter a Swiss zip code and you see all
          <b>building entrances</b> according to
          the <a href="https://www.bfs.admin.ch/bfs/en/home/registers/federal-register-buildings-dwellings.html">Federal
          Register of Buildings and Dwellings</a>. You can filter by street to
          drill down within a zip code.
        </p>
        <p><b>Background:</b>Explore the details and technical reasoning in
this <a href="https://blog.heuel.org/2025/02/swiss-roof-explorer/">blog
post</a>, or check out
the <a href="https://github.com/ping13/swiss-rooftop-explorer">source
code</a>. For more information,
contact <a href="https://blog.heuel.org">Stephan Heuel</a>.
          </p>
      </div>
    </div>
  </div>
  <script type="module" src="/src/main.js"></script>
  <script type="module" src="/src/addresses.js"></script>
</body>
</html>
